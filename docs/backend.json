
{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this user belongs to."
        }
      },
      "required": ["companyId"]
    },
    "Account": {
      "title": "Account",
      "type": "object",
      "description": "Represents a sales account.",
      "properties": {
        "accountNumber": {
          "type": "string",
          "description": "Account number."
        },
        "name": {
          "type": "string",
          "description": "Name of the account."
        },
        "industry": {
          "type": "string",
          "description": "Industry of the account."
        },
        "status": {
          "type": "string",
          "enum": ["lead", "customer", "key-account", "supplier"],
          "description": "Status of the account."
        },
        "details": {
          "type": "string",
          "description": "Details about the account."
        },
        "address": {
          "type": "string",
          "description": "Address for the account, required for leads."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this account belongs to."
        }
      },
      "required": ["name", "status", "companyId"]
    },
    "Contact": {
      "title": "Contact",
      "type": "object",
      "description": "Represents a contact associated with an account.",
      "properties": {
        "accountNumber": {
          "type": "string",
          "description": "The account number of the account this contact is associated with."
        },
        "name": {
          "type": "string",
          "description": "Name of the contact."
        },
        "position": {
          "type": "string",
          "description": "Job title or position of the contact."
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the contact."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Email address of the contact."
        },
        "location": {
          "type": "string",
          "description": "Location of the contact."
        },
        "isMainContact": {
          "type": "boolean",
          "description": "Indicates if this is the main contact for the account."
        },
        "avatarUrl": {
            "type": "string",
            "description": "URL for the contact's avatar."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this contact belongs to."
        }
      },
      "required": ["accountNumber", "name", "companyId"]
    },
    "Product": {
      "title": "Product",
      "type": "object",
      "description": "Represents a single product in the catalog.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "productCode": {
          "type": "string",
          "description": "Product code for the product."
        },
        "attribute1": {
          "type": "string",
          "description": "Custom attribute 1 for the product."
        },
        "attribute2": {
          "type": "string",
          "description": "Custom attribute 2 for the product."
        },
        "attribute3": {
          "type": "string",
          "description": "Custom attribute 3 for the product."
        },
        "attribute4": {
          "type": "string",
          "description": "Custom attribute 4 for the product."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this product belongs to."
        }
      },
      "required": ["name", "productCode", "companyId"]
    },
    "AccountProductNote": {
      "title": "AccountProductNote",
      "type": "object",
      "description": "Represents a note about a specific product for an individual account.",
      "properties": {
        "accountId": {
          "type": "string",
          "description": "Reference to Account."
        },
        "productId": {
          "type": "string",
          "description": "Reference to Product."
        },
        "notes": {
          "type": "string",
          "description": "Note about the product for the specific account."
        },
        "type": {
          "type": "string",
          "enum": ["purchasing", "opportunity"],
          "description": "The type of product association."
        },
        "price": {
          "type": "number",
          "description": "The price of the product for this account."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this note belongs to."
        }
      },
      "required": ["accountId", "productId", "type", "companyId"]
    },
    "ShippingLocation": {
      "title": "Location",
      "description": "Represents a shipping location for an account.",
      "type": "object",
      "properties": {
        "originalAccountId": {
          "type": "string",
          "description": "The ID of the account this location belongs to."
        },
        "relatedAccountId": {
          "type": "string",
          "description": "The ID of the related account."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this location belongs to."
        }
      },
      "required": ["originalAccountId", "relatedAccountId", "companyId"]
    },
    "CallNote": {
      "title": "Call Note",
      "description": "Represents a note for a call made to an account.",
      "type": "object",
      "properties": {
        "accountId": {
          "type": "string",
          "description": "The ID of the account this note belongs to."
        },
        "callDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time of the call."
        },
        "note": {
          "type": "string",
          "description": "The content of the call note."
        },
        "type": {
          "type": "string",
          "enum": ["note", "phone-call", "in-person", "initial-meeting"],
          "description": "The type of interaction."
        },
        "companyId": {
          "type": "string",
          "description": "The ID of the company this note belongs to."
        }
      },
      "required": ["accountId", "callDate", "note", "type", "companyId"]
    }
  },
  "auth": {
    "providers": ["password"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores public-facing user profile information, including their company ID."
    },
    "/accounts-db/{accountId}": {
      "schema": {
        "$ref": "#/entities/Account"
      },
      "description": "Top-level collection for all sales accounts, partitioned by companyId."
    },
    "/contacts/{contactId}": {
      "schema": {
        "$ref": "#/entities/Contact"
      },
      "description": "Top-level collection for all contacts, partitioned by companyId."
    },
    "/account-products/{accountProductId}": {
      "schema": {
        "$ref": "#/entities/AccountProductNote"
      },
      "description": "Links accounts to products, partitioned by companyId."
    },
    "/products/{productId}": {
      "schema": {
        "$ref": "#/entities/Product"
      },
      "description": "Global collection for all available products, partitioned by companyId."
    },
    "/shipping-locations/{locationId}": {
      "schema": {
        "$ref": "#/entities/ShippingLocation"
      },
      "description": "Stores shipping locations for accounts, partitioned by companyId."
    },
    "/call-notes/{callNoteId}": {
      "schema": {
        "$ref": "#/entities/CallNote"
      },
      "description": "Stores call notes for accounts, partitioned by companyId."
    }
  }
}
