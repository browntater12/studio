
{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        }
      }
    },
    "Account": {
      "title": "Account",
      "type": "object",
      "description": "Represents a sales account.",
      "properties": {
        "accountNumber": {
          "type": "string",
          "description": "Account number."
        },
        "name": {
          "type": "string",
          "description": "Name of the account."
        },
        "industry": {
          "type": "string",
          "description": "Industry of the account."
        },
        "status": {
          "type": "string",
          "enum": ["lead", "customer", "key-account", "supplier"],
          "description": "Status of the account."
        },
        "details": {
          "type": "string",
          "description": "Details about the account."
        },
        "address": {
          "type": "string",
          "description": "Address for the account, required for leads."
        }
      },
      "required": ["name", "status"]
    },
    "Contact": {
      "title": "Contact",
      "type": "object",
      "description": "Represents a contact associated with an account.",
      "properties": {
        "accountNumber": {
          "type": "string",
          "description": "The account number of the account this contact is associated with."
        },
        "name": {
          "type": "string",
          "description": "Name of the contact."
        },
        "position": {
          "type": "string",
          "description": "Job title or position of the contact."
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the contact."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Email address of the contact."
        },
        "location": {
          "type": "string",
          "description": "Location of the contact."
        },
        "isMainContact": {
          "type": "boolean",
          "description": "Indicates if this is the main contact for the account."
        },
        "avatarUrl": {
            "type": "string",
            "description": "URL for the contact's avatar."
        }
      },
      "required": ["accountNumber", "name", "phone", "email", "location", "isMainContact"]
    },
    "Product": {
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the catalog.",
      "properties": {
        "productNumber": {
          "type": "string",
          "description": "The product number."
        },
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "notes": {
          "type": "string",
          "description": "Notes about the product."
        },
        "industries": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Industries this product is associated with."
        }
      },
      "required": ["name", "industries"]
    },
    "SubProduct": {
      "title": "Sub Product",
      "description": "Represents a specific product variation under a base product.",
      "type": "object",
      "properties": {
        "baseProductId": {
          "type": "string",
          "description": "The ID of the base product this sub-product belongs to."
        },
        "name": {
          "type": "string",
          "description": "Name of the sub-product."
        },
        "description": {
          "type": "string",
          "description": "Description of the sub-product."
        },
        "productCode": {
          "type": "string",
          "description": "Product code for the sub-product."
        },
        "size": {
          "type": "string",
          "description": "Size of the sub-product."
        },
        "volume": {
          "type": "number",
          "description": "The volume of the sub-product."
        },
        "volumeUnit": {
          "type": "string",
          "enum": ["lb", "gal", "kg"],
          "description": "The unit for the volume."
        }
      },
      "required": ["baseProductId", "name", "productCode", "size"]
    },
    "AccountProductNote": {
      "title": "AccountProductNote",
      "type": "object",
      "description": "Represents a note about a specific product for an individual account, or a product opportunity.",
      "properties": {
        "accountId": {
          "type": "string",
          "description": "Reference to Account."
        },
        "productId": {
          "type": "string",
          "description": "Reference to Product. Not present for opportunities."
        },
        "subProductId": {
            "type": "string",
            "description": "Reference to a SubProduct. Links the account to a specific product variation."
        },
        "notes": {
          "type": "string",
          "description": "Note about the product for the specific account."
        },
        "priceType": {
            "type": "string",
            "enum": ["spot", "bid"]
        },
        "spotFrequency": {
          "type": "string",
          "enum": ["monthly", "quarterly", "annually"]
        },
        "bidFrequency": {
            "type": "string",
            "enum": ["monthly", "quarterly", "yearly"]
        },
        "lastBidPrice": {
            "type": "number"
        },
        "winningBidPrice": {
            "type": "number"
        },
        "priceUnit": {
          "type": "string",
          "enum": ["lb", "gal", "kg"]
        },
        "priceDetails": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["quote", "last_paid"]
            },
            "price": {
              "type": "number"
            }
          }
        },
        "isOpportunity": {
          "type": "boolean",
          "description": "True if this is a product opportunity, not an existing product."
        },
        "opportunityName": {
            "type": "string",
            "description": "Name of the product opportunity."
        },
        "estimatedVolumes": {
            "type": "array",
            "items": {
                "type": "string",
                "enum": ["pails", "drums", "totes", "bulk"]
            }
        },
        "competition": {
            "type": "string",
            "description": "Current supplier for the product opportunity."
        }
      },
      "required": ["accountId"]
    },
    "ShippingLocation": {
      "title": "Location",
      "description": "Represents a shipping location for an account.",
      "type": "object",
      "properties": {
        "accountId": {
          "type": "string",
          "description": "The ID of the account this location belongs to."
        },
        "name": {
          "type": "string",
          "description": "The name of the location (e.g., 'Main Warehouse')."
        },
        "address": {
          "type": "string",
          "description": "The full address of the location."
        }
      },
      "required": ["accountId", "name", "address"]
    },
    "CallNote": {
      "title": "Call Note",
      "description": "Represents a note for a call made to an account.",
      "type": "object",
      "properties": {
        "accountId": {
          "type": "string",
          "description": "The ID of the account this note belongs to."
        },
        "callDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time of the call."
        },
        "note": {
          "type": "string",
          "description": "The content of the call note."
        },
        "type": {
          "type": "string",
          "enum": ["note", "phone-call", "in-person", "initial-meeting"],
          "description": "The type of interaction."
        }
      },
      "required": ["accountId", "callDate", "note", "type"]
    }
  },
  "auth": {
    "providers": ["password"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores public-facing user profile information."
    },
    "/accounts-db/{accountId}": {
      "schema": {
        "$ref": "#/entities/Account"
      },
      "description": "Top-level collection for all sales accounts."
    },
    "/contacts/{contactId}": {
      "schema": {
        "$ref": "#/entities/Contact"
      },
      "description": "Top-level collection for all contacts, linked to accounts by accountNumber."
    },
    "/account-products/{accountProductId}": {
      "schema": {
        "$ref": "#/entities/AccountProductNote"
      },
      "description": "Top-level collection for product notes, linking an account to a product."
    },
    "/products/{productId}": {
      "schema": {
        "$ref": "#/entities/Product"
      },
      "description": "Global collection for all available products."
    },
    "/products/{productId}/individual-products/{subProductId}": {
      "schema": {
        "$ref": "#/entities/SubProduct"
      },
      "description": "Collection of specific product variations under a base product."
    },
    "/shipping-locations/{locationId}": {
      "schema": {
        "$ref": "#/entities/ShippingLocation"
      },
      "description": "Stores shipping locations for accounts."
    },
    "/call-notes/{callNoteId}": {
      "schema": {
        "$ref": "#/entities/CallNote"
      },
      "description": "Stores call notes for accounts."
    }
  }
}
